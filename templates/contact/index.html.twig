{% extends 'base.html.twig' %}

{% block title %}Contact{% endblock %}

{% block javascripts %}
    {% block importmap %}
        {{ importmap(['app']) }}
    {% endblock %}
{% endblock %}

{% block body %}
    <main class="contact">
        <!-- Messages Flash -->
        <div class="contact__flash-container">
            {% for type, messages in app.flashes %}
                <div class="contact__flash-message contact__flash-{{ type }}">
                    <span>
                        {% for message in messages %}
                            {{ message }}
                        {% endfor %}
                    </span>
                    <button class="contact__flash-close" onclick="this.parentElement.style.display='none';" aria-label="Fermer le message">
                        ❌
                    </button>
                </div>
            {% endfor %}
        </div>

        <section class="contact__container">
            <!-- Introduction -->
            <header class="contact__header">
                <h1 class="contact__header-title">Nous contacter</h1>
                <p class="contact__header-description">
                    Pour toute question ou demande d'information, contactez-nous par téléphone, email, ou via notre formulaire en ligne. Nous vous répondrons rapidement.
                </p>
            </header>

            <!-- Formulaire de Contact -->
            <section class="contact__form-container">
                {{ form_start(form, {'attr': {'class': 'contact__form'}}) }}

                {% for field in [form.name, form.email, form.subject, form.message] %}
                    <div class="contact__form-group">
                        {{ form_label(field, null, {'label_attr': {'class': 'contact__form-label'}}) }}
                        {{ form_widget(field, {'attr': {'class': 'contact__form-input'}}) }}
                        {{ form_errors(field, {'attr': {'class': 'contact__form-error'}}) }}
                    </div>
                {% endfor %}

                <!-- Case à cocher pour accepter les conditions générales -->
                <div class="contact__form-group">
                    <label class="contact__form-checkbox-label">
                        {{ form_widget(form.termsAccepted, {'attr': {'class': 'contact__form-checkbox'}}) }}
                        J'accepte les termes et
                        <a href="{{ path('terms_conditions') }}" class="contact__form-link">conditions</a>.
                    </label>
                    {{ form_errors(form.termsAccepted) }}
                </div>

                <!-- Bouton Envoyer -->
                <div class="contact__form-submit">
                    <button type="submit" class="contact__form-button" aria-label="Bouton Envoyer">
                        Envoyer
                    </button>
                </div>

                {{ form_end(form) }}
            </section>

            <!-- Section d'Informations et Google Maps -->
            <section class="contact__info-container">
                <!-- Bloc Google Maps -->
                <aside class="contact__map">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3978.3416367457873!2d15.30996217595712!3d-4.313276596866306!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1a6a321f2d1c17cd%3A0x853208c344c76c57!2s30%20Avenue%20des%20Forces%20Arm%C3%A9es%2C%20Gombe%2C%20Kinshasa%2C%20R%C3%A9publique%20D%C3%A9mocratique%20du%20Congo!5e0!3m2!1sen!2sfr!4v1636028833841!5m2!1sen!2sfr" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </aside>

                <!-- Bloc Coordonnées de Contact -->
                <article class="contact__details">
                    <h3 class="contact__details-title">Coordonnées</h3>
                    <p class="contact__details-text">
                        <strong>Adresse:</strong><br>
                        47 rue des Couronnes, 75020 Paris, France<br>
                        30 avenue des Forces Armées, Gombe, Kinshasa, République Démocratique du Congo
                    </p>
                    <p class="contact__details-text">
                        <strong>Heures d'ouverture:</strong><br>
                        Du lundi au vendredi: 9h - 18h<br>
                        Samedi: 9h - 13h
                    </p>
                    <p class="contact__details-text">
                        <strong>Email:</strong><br>
                        <a href="mailto:univsc288@gmail.com" class="contact__details-link">univsc288@gmail.com</a>
                    </p>
                    <p class="contact__details-text">
                        <strong>Téléphone:</strong><br>
                        <a href="tel:+33758149024" class="contact__details-link">+33 7 58 14 90 24</a><br>
                        <a href="tel:+243858873289" class="contact__details-link">+243 858 873 289</a><br>
                        <a href="tel:+243828169920" class="contact__details-link">+243 828 169 920</a>
                    </p>
                </article>
            </section>
        </section>
    </main>
{% endblock %}